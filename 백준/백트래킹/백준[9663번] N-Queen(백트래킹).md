# 백준 [9663번] N-Queen [Swift]

## 🔎 분류 : 백트래킹

<br><br>

🔗 [문제 원본 링크](https://www.acmicpc.net/problem/9663)
<br><br>

## 📝 문제 설명
N-Queen 문제는 크기가 N × N인 체스판 위에 퀸 N개를 서로 공격할 수 없게 놓는 문제이다.

N이 주어졌을 때, 퀸을 놓는 방법의 수를 구하는 프로그램을 작성하시오.

### # 입력
첫째 줄에 N이 주어진다. (1 ≤ N < 15)

### # 출력
첫째 줄에 퀸 N개를 서로 공격할 수 없게 놓는 경우의 수를 출력한다.
<br><br>

## 💡 해결 방법
백트래킹으로 푸는 방법이란 걸 알고 풀려고 해도 어떻게 대각체크를 할지 알지 못하여 해설을 참고해 풀었습니다. <br>
이 문제를 풀기 위해선 몇가지 수학적 지식?도 알고있어야 합니다.<br>
1. 이 문제는 각 행마다 하나의 퀸을 놓을 수 있습니다. ( 당연한거죠!? 직선으로 놓을 수 있으므로 같은 행이나 열에 2개의  킌은 놓을 수 없어요.)
2. 킌은 대각선으로도 공격이 가능하죠! 이 대각을 제외해 줄 수 있는 공식입니다. 좌측 대각은 x+y의 값이 같습니다.
    무슨 의미냐? 
   ```
   0,0 0,1 0,2
   1,0 1,1 1,2
   2,0 2,1 2,2
   ```
   에서 좌측대각의 합은 모두 같아요.<br>
   0,0은 0이구요. <br>
   0,1과 1,0 은 1이죠 <br>
   2,0과 1,1 0,2 는 모두 합이 2입니다 <br>
   2,1과 1,2는 모두 합이 3이구요 <br>
   2,2는 4입니다.<br>
   이러한 특징으로 좌측 대각에 다음 퀸을 놓을 수 있는지 체크할 수 있구요.

3. 우측 대각은 y-x 값이 같습니다!<br>
   위와 같은 배열로 봅시다.<br>
   2,0은 똑같이 -2이구요.<br>
   1,0과 2,1은 모두 -1입니다.<br>
   0,0과 1,1 2,2 는 모두 0 입니다. <br>
   0,1과 1,2 는 모두 1입니다. <br>
   0,2는 2이구요! <br>
   이런 특징으로 우측 대각에 다음 퀸을 놓을 수 있는지 체크할 수 있습니다!
   
1번은 당연한거고! 2번과 3번을 이용해 대각을 체크하고 해당 열에 있는지도 체크한다면 문제를 쉽게 풀이할 수 있어요!<br>
참고로! 대각은 2*n -1개의 배열의 개수를 가집니다!

당연히 백트래킹하는 시점은 n개를 뽑은 경우이구요!

이런 정보들로 백트래킹을 구현해보았습니다!

처음부터 이런 것들을 보고 알려면 얼마나 공부해야하는지 언젠간 되겠죠..?

<br><br>

## Code 풀이
```Swift
let n = Int(readLine()!)!

var check1 = Array(repeating: false, count: n)
var check2 = Array(repeating: false, count: 2*n-1)
var check3 = Array(repeating: false, count: 2*n-1)

var count = 0

func backTracking(_ curY: Int) {
    if curY == n { // 현재 뽑은 개수가 n과 같으면 종료
        count += 1
        return
    }
    
    for i in 0..<n {
        if check1[i] || check2[i+curY] || check3[curY-i+n-1] { continue }
        // 열|좌측대각|우측대각 방문 표시
        check1[i] = true
        check2[i+curY] = true
        check3[curY-i+n-1] = true
        
        backTracking(curY+1) // 이번 열에서 뽑고 다음 행 뽑으러
        
        // 열|좌측대각|우측대각 방문 표시 지우기 이번 행에선 이번 열을 안뽑는 경우로 분기
        check1[i] = false
        check2[i+curY] = false
        check3[curY-i+n-1] = false
    }
}
backTracking(0)

print(count)

```

